<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>BoYu&#39;s Blog</title>
  
    <link rel="icon" href="/assets/favicon.ico">
  
  
  
  <!--link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css"-->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/9.10.0/styles/github-gist.min.css">
  <link rel="stylesheet" href="/css/style.css">
</head>

<style type="text/css">
@keyframes fade-in {
    0% {opacity: 0;}
    20% {opacity: 0;}
    100% {opacity: 1;}
}
@-moz-keyframes fade-in {
    0% {opacity: 0;}
    20% {opacity: 0;}
    100% {opacity: 1;}
}
@-o-keyframes fade-in {
    0% {opacity: 0;}
    20% {opacity: 0;}
    100% {opacity: 1;}
}
@-webkit-keyframes fade-in {
    0% {opacity: 0;}
    20% {opacity: 0;}
    100% {opacity: 1;}
}



.SideMenu {
    animation: fade-in;
    animation-duration: 1s;
    animation-delay: 0s;
    -moz-animation: fade-in;
    -moz-animation-duration: 1s;
    -moz-animation-delay: 0s;
    -o-animation: fade-in;
    -o-animation-duration: 1s;
    -o-animation-delay: 0s;
    -webkit-animation: fade-in;
    -webkit-animation-duration: 1s;
    -webkit-animation-delay: 0s;
}

.Container {
    animation: fade-in;
    animation-duration: 1s;
    animation-delay: 0s;
    -moz-animation: fade-in;
    -moz-animation-duration: 1s;
    -moz-animation-delay: 0s;
    -o-animation: fade-in;
    -o-animation-duration: 1s;
    -o-animation-delay: 0s;
    -webkit-animation: fade-in;
    -webkit-animation-duration: 1s;
    -webkit-animation-delay: 0s;
}
</style>
<body>
<div class="Shell">
    <div class="SideMenu">
        <aside class="SideBar">
    <section class="avatar" style="background-image: url()">
        <img class="av-pic" src="/assets/avatar.JPG">
    </section>

    <script src="/js/sidebar.js"></script>

    <section class="menu">
        <div>BoYu&#39;s Blog</div>
        
            <div>Expect the unexpected.</div>
        
        <input type="text" id="search" class="searchline" placeholder="Search here..." onkeyup="searchInputChanged()">
        <ul>
          
            <a href="/" class="Btn">
              <li>Home</li>
            </a>  
          
            <a href="/archives/" class="Btn">
              <li>Archive</li>
            </a>  
          
            <a href="/categories/" class="Btn">
              <li>Categories</li>
            </a>  
          
            <a href="/tags/" class="Btn">
              <li>Tags</li>
            </a>  
          
            <a href="/about/" class="Btn">
              <li>About</li>
            </a>  
          
        </ul>
    </section>
    <section class="media">
        
    </section>
</aside>

    </div>
    <div class="Container">
        <div class="container">
            <div>
                <div>
  <article class="ContentView">
    <header class="PageTitle">
        <h1></h1>
    </header>

    <section>
      <style>

  /*标题样式*/
  .title {
    color: black;
  }

  /*内容样式*/
  .content {
    color: black;
  }

  /*检索到的关键字的样式*/
  .search-keyword {
    color: red;
  }

  /*未找到关键字时的样式*/
  .empty {
    color: black;
  }

</style>

<body>

  <div id="result">如果你看到这行字，说明搜索功能凉了...请联系我修复...</div>
  
</body>

<script type="text/javascript" src="../js/jquery_3.2.1.js"></script>

<script type="text/javascript">
var searchFunc = function (path, kWord, content_id) {
  // 0x00. environment initialization
  'use strict';
  var $resultContent = document.getElementById(content_id);
  $resultContent.innerHTML ="<ul>首次搜索，正在载入索引文件，请稍后……</ul>";
  $.ajax({
    // 0x01. load xml file / 装载搜索用XML文档
    url: path,
    dataType: "xml",
    success: function (xmlResponse) {
      // 0x02. parse xml file
      var datas = $("entry", xmlResponse).map(function () {
        return {
          title: $("title", this).text(),
          content: $("content", this).text(),
          url: $("url", this).text()
        };
      }).get();
      $resultContent.innerHTML = "";

      // 0x03. parse query to keywords list
      var str = '<ul>';
      var keywords = kWord.trim().toLowerCase().split(/[\s\-]+/);
      $resultContent.innerHTML = "";

      // 0x04. perform local searching
      datas.forEach(function (data) {
        var isMatch = true;
        var content_index = [];
        if (!data.title || data.title.trim() === '') {
          data.title = "Untitled";
        }
        var orig_data_title = data.title.trim();
        var data_title = orig_data_title.toLowerCase();
        var orig_data_content = data.content.trim().replace(/<[^>]+>/g, "");
        var data_content = orig_data_content.toLowerCase();
        var data_url = data.url;
        var index_title = -1;
        var index_content = -1;
        var first_occur = -1;
        // only match artiles with not empty contents
        if (data_content !== '') {
          keywords.forEach(function (keyword, i) {
            index_title = data_title.indexOf(keyword);
            index_content = data_content.indexOf(keyword);

            if (index_title < 0 && index_content < 0) {
              isMatch = false;
            } else {
              if (index_content < 0) {
                index_content = 0;
              }
              if (i == 0) {
                first_occur = index_content;
              }
            }
          });
        } else {
          isMatch = false;
        }
        // 0x05. show search results
        if (isMatch) {
          var match_title = orig_data_title;
            // highlight all keywords in title
            keywords.forEach(function (keyword) {
            var regS = new RegExp(keyword, "gi");
            match_title = match_title.replace(regS, "<span class=\"search-keyword\">" + keyword + "</span>");
          });
          
          str += "<li><a class='title' href='.." + data_url + "'>" + match_title + "</a>";
          var content = orig_data_content;
          if (first_occur >= 0) {
            // cut out 100 characters
            var start = first_occur - 20;
            var end = first_occur + 80;

            if (start < 0) {
              start = 0;
            }

            if (start == 0) {
              end = 100;
            }

            if (end > content.length) {
              end = content.length;
            }

            var match_content = content.substr(start, end);

            // highlight all keywords in content
            keywords.forEach(function (keyword) {
              var regS = new RegExp(keyword, "gi");
              match_content = match_content.replace(regS, "<span class=\"search-keyword\">" + keyword + "</span>");
            });

            str += "<p class='content'>" + match_content + "...</p>"
          }
          str += "</li>";
        }
      });
      str += "</ul>";
      if (str.indexOf('<li>') === -1) {
        return $resultContent.innerHTML = "<ul><span class='empty'>没有找到内容，请尝试更换检索词。</span></ul>";
      }
      $resultContent.innerHTML = str;
    }
  });
  $(document).on('click', '#local-search-close', function() {
    $('#local-search-input').val('');
    $('#local-search-result').html('');
  });
}
</script>

<script type="text/javascript">
    //搜索页面，进入后自动开始处理数据
    !function GetRequest() {
      //部件元素
      var ele_search = document.getElementById("search"); //左侧搜索框
    
      //保存关键字
      var keyword = "";
    
      /**
       * 提取关键字
       * Warning:多关键字的情况下存在问题，但不会出现安全性问题且正常操作不会出现这类情况，不做处理
      */
      var url = location.search.substr(1);
      var pos = url.indexOf("keyword=");
      if(pos > -1) keyword = decodeURI(url.substr(pos + 8));
    
      //恢复搜索框中的数据
      if(keyword)
      {
        ele_search.value = keyword;
        ele_search.className = "searchline hasvalue";
      }

      searchFunc("search.xml",keyword,"result");
    }()
</script>


      

    </section>
    
    
</article>

</div>

                <script type="text/javascript">
var bszCaller, bszTag; 
!function() {
    var c, d, e, a = !1,
    b = [];
    ready = function(c) {
        return a || "interactive" === document.readyState || "complete" === document.readyState ? c.call(document) : b.push(function() {
            return c.call(this)
        }),
        this
    },
    d = function() {
        for (var a = 0,
        c = b.length; c > a; a++) b[a].apply(document);
        b = []
    },
    e = function() {
        a || (a = !0, d.call(window), document.removeEventListener ? document.removeEventListener("DOMContentLoaded", e, !1) : document.attachEvent && (document.detachEvent("onreadystatechange", e), window == window.top && (clearInterval(c), c = null)))
    },
    document.addEventListener ? document.addEventListener("DOMContentLoaded", e, !1) : document.attachEvent && (document.attachEvent("onreadystatechange",
    function() { / loaded | complete / .test(document.readyState) && e()
    }), window == window.top && (c = setInterval(function() {
        try {
            a || document.documentElement.doScroll("left")
        } catch(b) {
            return
        }
        e()
    },
    5)))
} (),
bszCaller = {
    fetch: function(a, b) {
        var c = "BusuanziCallback_" + Math.floor(1099511627776 * Math.random());
        window[c] = this.evalCall(b),
        a = a.replace("=BusuanziCallback", "=" + c),
        scriptTag = document.createElement("SCRIPT"),
        scriptTag.type = "text/javascript",
        scriptTag.defer = !0,
        scriptTag.src = a,
        document.getElementsByTagName("HEAD")[0].appendChild(scriptTag)
    },
    evalCall: function(a) {
        return function(b) {
            ready(function() {
                try {
                    a(b),
                    scriptTag.parentElement.removeChild(scriptTag)
                } catch(c) {
                    bszTag.hides()
                }
            })
        }
    }
},
bszCaller.fetch("//busuanzi.ibruce.info/busuanzi?jsonpCallback=BusuanziCallback",
function(a) {
    bszTag.texts(a),
    bszTag.shows()
}),
bszTag = {
    bszs: ["site_pv", "page_pv", "site_uv"],
    texts: function(a) {
        this.bszs.map(function(b) {
            var c = document.getElementById("busuanzi_value_" + b);
            c && (c.innerHTML = a[b])
        })
    },
    hides: function() {
        this.bszs.map(function(a) {
            var b = document.getElementById("busuanzi_container_" + a);
            b && (b.style.display = "none")
        })
    },
    shows: function() {
        this.bszs.map(function(a) {
            var b = document.getElementById("busuanzi_container_" + a);
            b && (b.style.display = "inline")
        })
    }
};
</script>
<footer>
    <div>© 2019 - BoYu Chai </div>
    <div>
        <span>
            <span id="busuanzi_container_site_uv">total visitor:<span id="busuanzi_value_site_uv"></span>&nbsp;|&nbsp;</span>
        </span>
        <span>
            Powered by <a href="https://hexo.io">Hexo</a>
        </span>
        ,
        <span>
            BaseTheme - <a href="https://github.com/nameoverflow/hexo-theme-icalm">Icalm</a>
        </span>
    </div>
</footer>

            </div>
        </div>
    </div>
</div>
</body>
</html>